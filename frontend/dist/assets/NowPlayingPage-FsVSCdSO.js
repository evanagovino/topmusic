import{b as a,u as h,j as e}from"./index-CQQhSzCd.js";function b(){const n=a(t=>t.queue),o=a(t=>t.queueName),d=a(t=>t.currentIndex),s=a(t=>t.currentTrack),p=a(t=>t.isPlaying),f=a(t=>t.isPlayerVisible),y=a(t=>t.togglePlayPause),j=a(t=>t.playTrackAtIndex),u=a(t=>t.lovedTrackIds),g=a(t=>t.toggleLove),c=h(t=>t.isAuthorized),v=h(t=>t.createPlaylist);if(!f||!s)return e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"Nothing playing. Start a playlist from Top Albums or Radio."})});const x=n.slice(d+1),l=u.has(s.track_id);return e.jsx("div",{className:"flex h-full flex-col overflow-y-auto",children:e.jsxs("div",{className:"mx-auto w-full max-w-3xl px-4 py-6 sm:px-6 sm:py-8",children:[o&&e.jsx("h1",{className:"mb-6 text-center text-lg font-semibold text-gray-300 sm:text-left",children:o}),e.jsxs("div",{className:"flex flex-col items-center gap-4 sm:flex-row sm:items-start sm:gap-6",children:[s.image_url&&e.jsx("img",{src:s.image_url,alt:`${s.artist} - ${s.album_name}`,className:"h-48 w-48 flex-shrink-0 rounded-lg object-cover shadow-lg sm:h-52 sm:w-52"}),e.jsxs("div",{className:"flex flex-col items-center gap-2 sm:items-start sm:pt-2",children:[e.jsx("span",{className:"text-xs font-medium uppercase tracking-wider text-indigo-400",children:"Now Playing"}),e.jsx("h2",{className:"text-center text-2xl font-bold text-white sm:text-left",children:s.track_name}),e.jsx("p",{className:"text-lg text-gray-200",children:s.artist}),e.jsx("p",{className:"text-sm text-gray-400",children:s.album_name}),s.year&&e.jsxs("p",{className:"text-sm text-gray-500",children:[s.subgenre??s.genre," · ",s.year]}),e.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:y,className:"flex items-center gap-2 rounded-lg bg-indigo-600 px-5 py-2.5 text-sm font-medium text-white hover:bg-indigo-500",children:p?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}),"Pause"]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8 5v14l11-7z"})}),"Play"]})}),c&&e.jsx("button",{type:"button",onClick:()=>g(s.track_id),className:"rounded-lg p-2.5 transition-colors hover:bg-gray-800","aria-label":l?"Remove from favorites":"Add to favorites",title:l?"Remove from favorites":"Add to favorites",children:e.jsx("svg",{className:`h-6 w-6 ${l?"text-pink-500":"text-gray-400"}`,fill:l?"currentColor":"none",stroke:"currentColor",strokeWidth:l?0:2,viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"})})}),c&&e.jsx("button",{type:"button",onClick:async()=>{const t=n.map(r=>r.track_id),m=await v(o??"Now Playing",t);alert(m?"Playlist created! Check your Apple Music library.":"Failed to create playlist. Please try again.")},className:"rounded-lg bg-pink-600 px-4 py-2.5 text-sm font-medium text-white hover:bg-pink-500",children:"Create Apple Music Playlist"})]})]})]}),x.length>0&&e.jsxs("div",{className:"mt-10",children:[e.jsxs("h3",{className:"mb-4 text-sm font-medium uppercase tracking-wider text-gray-400",children:["Up Next (",x.length,")"]}),e.jsx("div",{className:"flex flex-col gap-1",children:x.map((t,m)=>{const r=d+1+m,i=u.has(t.track_id);return e.jsxs("div",{className:"flex items-center gap-3 rounded-lg px-3 py-2 transition-colors hover:bg-gray-800",children:[e.jsxs("button",{type:"button",onClick:()=>j(n,r),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[t.image_url?e.jsx("img",{src:t.image_url,alt:t.album_name,className:"h-12 w-12 flex-shrink-0 rounded object-cover",loading:"lazy"}):e.jsx("div",{className:"h-12 w-12 flex-shrink-0 rounded bg-gray-800"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate text-sm font-medium text-white",children:t.track_name}),e.jsxs("p",{className:"truncate text-xs text-gray-400",children:[t.artist,t.album_name?` — ${t.album_name}`:""]})]})]}),c&&e.jsx("button",{type:"button",onClick:()=>g(t.track_id),className:"flex-shrink-0 rounded p-2 transition-colors hover:bg-gray-700","aria-label":i?"Remove from favorites":"Add to favorites",children:e.jsx("svg",{className:`h-4 w-4 ${i?"text-pink-500":"text-gray-500"}`,fill:i?"currentColor":"none",stroke:"currentColor",strokeWidth:i?0:2,viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"})})})]},t.track_id+r)})})]})]})})}export{b as default};
